<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ post.title }} - {{ settings.blog_title }}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% if post.description %}{{ post.description|truncate(160) }}{% else %}{{ settings.blog_desc }}{% endif %}">
    <meta name="keywords" content="{% if post.tags %}{{ post.tags|join(', ') }}, {% endif %}블로그, 개발, HEG, 앱개발, 기술블로그">
    <meta name="author" content="HEG">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://bit.heg.wtf/{{ post.pub_date }}/{{ post.slug|default(post.pub_date) }}/">
    
    <!-- Additional SEO -->
    <meta name="theme-color" content="#ffffff">
    <meta name="msapplication-TileColor" content="#ffffff">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    
    <!-- OpenGraph Meta Tags -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="{{ post.title }} - {{ settings.blog_title }}">
    <meta property="og:description" content="{% if post.description %}{{ post.description }}{% else %}{{ settings.blog_desc }}{% endif %}">
    <meta property="og:url" content="https://bit.heg.wtf/{{ post.pub_date }}/{{ post.slug }}/">
    <meta property="og:site_name" content="{{ settings.blog_title }}">
    <meta property="og:locale" content="ko_KR">
    <meta property="article:published_time" content="{{ post.pub_date }}">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="{{ post.title }} - {{ settings.blog_title }}">
    <meta name="twitter:description" content="{% if post.description %}{{ post.description }}{% else %}{{ settings.blog_desc }}{% endif %}">
    
    <link rel="stylesheet" href="./assets/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Structured Data (JSON-LD) for Article -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "{{ post.title }}",
        "description": "{% if post.description %}{{ post.description|truncate(160) }}{% else %}{{ settings.blog_desc }}{% endif %}",
        "author": {
            "@type": "Person",
            "name": "HEG",
            "url": "https://bit.heg.wtf"
        },
        "publisher": {
            "@type": "Person",
            "name": "HEG",
            "url": "https://bit.heg.wtf"
        },
        "datePublished": "{{ post.pub_date }}T00:00:00+09:00",
        "dateModified": "{{ post.pub_date }}T00:00:00+09:00",
        "url": "https://bit.heg.wtf/{{ post.pub_date }}/{{ post.slug|default(post.pub_date) }}/",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://bit.heg.wtf/{{ post.pub_date }}/{{ post.slug|default(post.pub_date) }}/"
        },
        "inLanguage": "ko-KR",
        "isPartOf": {
            "@type": "Blog",
            "name": "{{ settings.blog_title }}",
            "url": "https://bit.heg.wtf"
        }{% if post.tags %},
        "keywords": "{{ post.tags|join(', ') }}"{% endif %}
    }
    </script>
</head>
<body>
    <div class="app-container">
        <!-- Header Section -->
        <header class="site-header">
            <div class="header-content">

                <div class="site-info">
                    <h1 class="site-title">
                        <a href="/">{{ settings.blog_title }}</a>
                    </h1>
                    <p class="site-description">{{ settings.blog_desc }}</p>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- Single Post Content -->
                <article class="single-post" itemscope itemtype="https://schema.org/BlogPosting">
                    <div class="post-header">
                        <h1 class="post-title" itemprop="headline">{{ post.title }}</h1>
                        <div class="post-meta">
                            <time class="post-date" datetime="{{ post.pub_date }}T00:00:00+09:00" itemprop="datePublished">{{ post.pub_date }}</time>
                            <span itemprop="author" itemscope itemtype="https://schema.org/Person" style="display: none;">
                                <span itemprop="name">HEG</span>
                            </span>
                        </div>
                    </div>
                    
                    <div class="post-body" itemprop="articleBody">
                        {% if post.html %}
                        <div class="post-content">{{ post.html|safe }}</div>
                        {% elif post.description %}
                        <div class="post-content">{{ post.description }}</div>
                        {% endif %}
                    </div>
                </article>

                <!-- Navigation -->
                <nav class="post-navigation">
                    <a href="/" class="nav-back">
← View all posts
                    </a>
                </nav>
            </div>
        </main>

        <!-- Footer -->
        <footer class="site-footer">
            <div class="footer-content">
                <p>&copy; 2024 {{ settings.blog_title }}. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 포스트 애니메이션
            const post = document.querySelector('.single-post');
            if (post) {
                post.classList.add('animate-in');
            }

            console.log('bit theme post page initialized successfully');
        });
    </script>
</body>
</html>
